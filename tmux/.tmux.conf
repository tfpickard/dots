#
# tmux configurationjjjjj
#


# Set the prefix keys.  Keep the legacy Ctrl-A for screens people, but I prefer the single key `
set -g prefix F12
set -g prefix2 C-a
bind-key  F12 send-prefix
bind-key C-a send-prefix
bind r source-file ~/.tmux.conf \; display-message "did it... i hope it works"

set-window-option -g mode-keys vi
# bind-key Left select-pane -L
# bind-key Down select-pane -D
# bind-key Up select-pane -U
# bind-key Right select-pane -R
#
# bind-key h select-pane -L
# bind-key j select-pane -D
# bind-key k select-pane -U
# bind-key l select-pane -R
#
set -g mouse on
#set-window-option -g mode-mouse on
#set-option -g mouse-select-pane on
#set-option -g mouse-resize-pane on
#set-option -g mouse-select-window on

#bind-key r command-prompt 'rename-window %%'
#bind-key R command-prompt 'rename-session %%'
set-option -g status-interval 5
set-option -g automatic-rename on
set-option -g automatic-rename-format '#{b:pane_current_path}'
#bind-key [ previous-window
#bind-key ] next-window
# bind S split-window -h -c '#{pane_current_path}'
# bind s split-window -v -c '#{pane_current_path}'
# bind F12 split-window -v -c '#{pane_current_path}'
# bind F10 split-window -h -c '#{pane_current_path}'

set -g base-index 1
set -g pane-base-index 1

# Set that stupid Esc-Wait off, so VI works again
set -sg escape-time 0

set-option -g history-limit 10000

set-option -g status-position top

source-file ~/.tmux.colors.conf
# status bar theme
set -g status-style bg=$dark0
set -g message-command-style fg=$light1
#set -g status-style justify='center'
set -g status-left-style length='100'
set -g status 'on'
set -g pane-active-border-style fg=$neutral_green
set -g message-style bg=$dark1 #'colour238'
set -g status-right-length '100'
set -g status-right-style 'default'
set -g message-style fg=$light1 #'colour222'
set -g message-command-style bg=$dark1 #'colour238'
set -g status-style 'bold'
#set -g status-style utf8
set -g pane-border-style fg=$dark2 #'colour238'
set -g status-left-style 'default'
setw -g window-status-style fg=$neutral_purple #'colour121'
setw -g window-status-style 'default'
setw -g window-status-activity-style bg=$dark0 #'colour235'
setw -g window-status-activity-style 'default'
setw -g window-status-activity-style fg=$bright_green #'colour154'
setw -g window-status-separator ''
setw -g window-status-style bg=$dark0 #'colour235'

set -g status-left '#[fg=colour232,bg=$neutral_green] #S \
#[fg=$neutral_green,bg=$dark1,nobold,nounderscore,noitalics]\
#[fg=$light1,bg=$dark1] #W \
#[fg=$dark1,bg=$dark0,nobold,nounderscore,noitalics]\
#[fg=$neutral_purple,bg=$dark0] #(whoami)  #(uptime  | cut -d " " -f 1,2,3) \
#[fg=$pale_purple,bg=$dark0,nobold,nounderscore,noitalics]'

set -g status-right '\
#[fg=$dark0,bg=$dark0,nobold,nounderscore,noitalics]\
#[fg=$neutral_purple,bg=$dark0] %r \
 %a |<< %Y \
#[fg=$dark1,bg=$dark0,nobold,nounderscore,noitalics]\
#[fg=$light1,bg=$dark1] #H \
#[fg=$neutral_green,bg=$dark1,nobold,nounderscore,noitalics]\
#[fg=colour232,bg=$neutral_green] #{prefix_highlight} \
#(rainbarf --battery --remaining --no-rgb) '

setw -g window-status-format \
'#[fg=$dark0,bg=$dark0,nobold,nounderscore,noitalics]\
#[default] #I  #W \
#[fg=$dark0,bg=$dark0,nobold,nounderscore,noitalics]'

setw -g window-status-current-format \
'#[fg=$dark0,bg=$dark1,nobold,nounderscore,noitalics]\
#[fg=$light1,bg=$dark1] #I  #W  #F \
#[fg=$dark1,bg=$dark0,nobold,nounderscore,noitalics]'


# messages
# set -g message-style 'fg=colour232 bg=colour16 bold'
set -g @plugin 'tmux-plugins/tmux-net-speed'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'samoshkin/tmux-plugin-sysstat'
set -g @plugin 'nailshard/tmux-gruvbox'
# set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin 'tmux-plugins/tmux-sidebar'
set -g @plugin 'addisonlynch/tmux-sidebar-plus'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-sessionist'
set -g @plugin 'jabirali/tmux-tilish'
set -g @plugin 'sunaku/tmux-navigate'
set -g @plugin 'tmux-plugins/tmux-pain-control'

# set -g @plugin 'tmux-plugins/tmux-resurrect'
# set -g @plugin 'tmux-plugins/tmux-continuum'




# prefix + Tab - toggle sidebar with a directory tree
# prefix + Backspace - toggle sidebar and move cursor to it (focus it)



# Plugin options.
set -g @tilish-default 'main-horizontal'
set -g @tilish-navigate 'on'
set -g @tilish-dmenu 'on'
set -g @tilish-prefix 'M-a'


set -g default-terminal "screen-256color"
set-option -sa terminal-overrides ',screen-256color:RGB'
set-option -g focus-events on


set -g @continuum-restore 'on'

set -g @sidebar-plus-sidebar-key 'b'
set -g @sidebar-plus-layout-dir	'~/.tmux/sidebar'

# Install `tpm` if needed.
if "test ! -d ~/.tmux/plugins" "run 'mkdir -p ~/.tmux/plugins'"
if "test ! -d ~/.tmux/plugins/tpm" \
   "run 'git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm \
   && ~/.tmux/plugins/tpm/bin/install_plugins'"

# Activate the plugins.
run -b "~/.tmux/plugins/tpm/tpm"
# tpath=~/.tmux
# ppath=$tpath/plugins
# run "[[ -d $ppath ]] || mkdir -p $ppath"
# run "[[ -d $ppath/tpm ]] || \
#     git clone https://github.com/tmux-plugins/tpm $ppath/tpm"
